<div class="cart-container">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-content">
      <div class="logo">üõçÔ∏è ShopCart</div>
      <div class="nav-links">
        <span class="user-info">{{ username }}</span>
        <button class="btn-logout" (click)="logout()">Logout</button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="cart-content">
    <!-- Header -->
    <div class="cart-header">
      <button class="btn-back" (click)="continueShopping()" title="Back to shopping">
        ‚Üê Back
      </button>
      <h1>üõí Shopping Cart</h1>
    </div>

    <!-- Loading State -->
    <div class="loading-spinner" *ngIf="loading">
      <div class="spinner"></div>
      <p>Loading cart...</p>
    </div>

    <!-- Empty Cart State -->
    <div class="empty-cart" *ngIf="!loading && cartItems.length === 0">
      <p class="empty-icon">üõí</p>
      <p class="empty-message">Your cart is empty</p>
      <button class="btn-continue" (click)="continueShopping()">Continue Shopping</button>
    </div>

    <!-- Cart Items & Summary -->
    <div class="cart-items" *ngIf="!loading && cartItems.length > 0">
      <!-- Items List -->
      <div class="cart-items-list">
        <div class="cart-item" *ngFor="let item of cartItems">
          <!-- Item Image -->
          <div class="item-image">
            <img [src]="item.imageUrl" [alt]="item.name" />
          </div>

          <!-- Item Details -->
          <div class="item-details">
            <h3>{{ item.name }}</h3>
            <p class="item-price">${{ item.price.toFixed(2) }}</p>
          </div>

          <!-- Quantity Input -->
          <div class="item-quantity">
            <label>Quantity:</label>
            <input
              type="number"
              min="1"
              [(ngModel)]="item.quantity"
              (change)="updateQuantity(item, item.quantity.toString())"
              class="quantity-input"
            />
          </div>

          <!-- Subtotal -->
          <div class="item-subtotal">
            <p class="subtotal">${{ item.totalPrice.toFixed(2) }}</p>
          </div>

          <!-- Remove Button -->
          <button class="btn-remove" (click)="removeItem(item)" title="Remove item">
            ‚ùå
          </button>
        </div>
      </div>

      <!-- Order Summary -->
      <div class="cart-summary">
        <div class="summary-row">
          <span>Subtotal:</span>
          <span>${{ cartTotal.toFixed(2) }}</span>
        </div>

        <div class="summary-row">
          <span>Shipping:</span>
          <span>FREE</span>
        </div>

        <div class="summary-row">
          <span>Tax:</span>
          <span>${{ (cartTotal * 0.1).toFixed(2) }}</span>
        </div>

        <div class="summary-divider"></div>

        <div class="summary-row total">
          <span>Total:</span>
          <span>${{ (cartTotal * 1.1).toFixed(2) }}</span>
        </div>

        <!-- Action Buttons -->
        <div class="cart-actions">
          <button class="btn-checkout" (click)="checkout()">Proceed to Checkout</button>
          <button class="btn-continue" (click)="continueShopping()">
            Continue Shopping
          </button>
        </div>

        <!-- Clear Cart Button -->
        <button *ngIf="cartItems.length > 0" class="btn-clear-cart" (click)="clearCart()">
          üóëÔ∏è Clear Cart
        </button>
      </div>
    </div>
  </div>
</div>